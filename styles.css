body {
	--shiki-code-background: var(--code-background);
	--shiki-code-normal: var(--code-normal);
	--shiki-code-comment: var(--code-comment);
	--shiki-code-function: var(--color-green);
	--shiki-code-important: var(--code-important);
	--shiki-code-keyword: var(--code-keyword);
	--shiki-code-property: var(--code-property);
	--shiki-code-punctuation: var(--code-punctuation);
	--shiki-code-string: var(--color-yellow);
	--shiki-code-value: var(--code-value);

	/*--shiki-code-border-color: var(--background-modifier-border);*/
	--shiki-code-block-border-color: transparent;
	--shiki-code-block-border-radius: var(--code-radius);
	--shiki-code-block-border-width: 0px; /* this has to have a unit */

	--shiki-highlight-red-rgb: var(--color-red-rgb);
	--shiki-highlight-green-rgb: var(--color-green-rgb);
	--shiki-highlight-neutral-rgb: var(--mono-rgb-100);

	--shiki-highlight-opacity: 0.1;

	--shiki-terminal-dots-color: var(--text-faint);

	--shiki-tooltip-background: var(--background-modifier-message);
	--shiki-tooltip-text-color: #fafafa;

	--shiki-code-block-spacing: var(--p-spacing);
}

/* Disable ligatures in code blocks, as they can cause incorrect highlighting */
div.expressive-code {
	font-variant-ligatures: no-contextual;

	/*div.ec-line {*/
	/*	span {*/
	/*		color: var(--0);*/
	/*		font-style: var(--0fs);*/
	/*	}*/

	/*	&.highlight {*/
	/*		background-color: var(--highlight);*/
	/*	}*/

	/*	&.mark {*/
	/*		--highlight: var(--background-modifier-hover);*/
	/*	}*/
	/*}*/
}

.markdown-preview-view {
	div.expressive-code {
		margin-block: var(--p-spacing);
	}
}

/* Hide the frontmatter code block in reading view again */
div.markdown-preview-view > div > div.mod-header + div > div {
	display: none;
}
